# Fish Catcher - Project Guide

## Overview
Fish Catcher is a mobile arcade game targeting **iOS and Android**. The game is live on the App Store.

**Bundle ID:** See `.env` (`BUNDLE_ID`)
**Apple Team ID:** See `.env` (`APPLE_TEAM_ID`)

## Migration Status
This project has been migrated from **Godot 4.6 → Unity**. Multiplayer has been removed. The Godot code in `scripts/` and `scenes/` remains as reference. The Unity project is in `FishCatcherUnity/`.

## Game Mechanics

### Single Player
- Catch 10 fish in 30 seconds to win
- Touch/click to lower claw, release to raise it
- Drag left/right to move claw horizontally
- 15 fish spawn in a grid pattern with randomness
- Fish swim back-and-forth with gentle bobbing (sin wave)
- 6 color varieties: Red, Orange, Yellow, Green, Blue, Purple
- Fish respawn when count drops below 5

### Screens
- **Home Screen:** Play button, decorative animated fish, pulsing title
- **Main Game:** Claw, fish spawner, score UI, pause menu, timer

## Project Structure

### Unity Project (`FishCatcherUnity/`)
```
Assets/
  Scripts/
    GameManager.cs          - Game loop, scoring, timer, pause
    Claw.cs                 - Touch/mouse input, claw mechanics
    Fish.cs                 - Fish swim AI, grab/release
    FishSpawner.cs          - Spawn 15 fish, respawn when < 5
    DropZone.cs             - Bucket collision, scoring
    HomeScreen.cs           - Menu, decorative fish
    FloatUpAndFade.cs       - Score popup animation
    FishSpriteGenerator.cs  - Procedural fish sprite
    ClawSpriteGenerator.cs  - Procedural claw/bucket sprites
    ProceduralSetup.cs      - Auto-assigns sprites on prefabs
    Editor/
      SceneBuilder.cs       - One-click scene generation
  Scenes/                   - Generated by SceneBuilder
  Prefabs/                  - Generated by SceneBuilder
ProjectSettings/            - Unity project config
```

### Godot Reference (`scripts/` and `scenes/`)
```
scenes/          - Godot scene files (.tscn): main, home_screen
scripts/         - GDScript files (.gd): game logic, fish AI
```

## Game Constants
- **Viewport:** 720 x 1280 (portrait, mobile-optimized)
- **Target fish:** 10
- **Game time:** 30 seconds

## Build & Deployment
- **Android:** AAB format, package from `.env` (`BUNDLE_ID`), min SDK 21, target SDK 34
- **iOS:** Unity build → Xcode project, deployed via Fastlane
- **CI/CD:** GitHub Actions - push to `main` → TestFlight, git tag `v*` → App Store

## Code Conventions

### Unity (C#)
- **Naming:** PascalCase for classes/methods, camelCase for fields, UPPER_CASE for constants
- **Input:** Support both touch and mouse (Input.GetTouch + Input.GetMouseButton)
- **Collision:** CircleCollider2D/BoxCollider2D triggers, OnTriggerEnter2D detection
- **Animation:** Coroutines for effects, Mathf.Sin for bobbing
- **State:** Simple enums (ClawState.IDLE/HOLDING)

### Godot Reference (GDScript)
- **Naming:** snake_case for files, variables, signals; UPPER_CASE for constants
- **Collision:** Area2D with CircleShape2D, signal-based detection
- **Animation:** Tweens for UI, sin wave for fish bobbing

## Unity Setup
See `FishCatcherUnity/SETUP.md` for full setup instructions.
Quick start: Open in Unity > Window > Fish Catcher > Build Scenes > Build All

## Git Conventions
- **No co-author lines** in commit messages — do not add `Co-Authored-By` trailers
- **Run all tests before committing** — always run the test suite before any commit/push
- **Only commit when the user explicitly says to** — do not auto-commit
